#include <metal_stdlib>
using namespace metal;

kernel void computeShader(
    device const float* inputBuffer [[buffer(0)]],
    device float* outputBuffer [[buffer(1)]],
    constant int& width [[buffer(2)]],
    constant int& height [[buffer(3)]],
    uint2 gid [[thread_position_in_grid]]
) {
    if (gid.x >= width || gid.y >= height)
        return;
    uint index = gid.y * width + gid.x;
    float value = inputBuffer[index];
    value = value + 1.0;
    outputBuffer[index] = value;
}